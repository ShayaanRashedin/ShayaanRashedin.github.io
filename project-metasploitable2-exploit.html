<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Metasploitable2 – Recon to Exploitation | Shayaan Rashedin</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="script.js"></script>

  <!-- Page-scoped theme variables + layout to ensure good light/dark contrast -->
  <style>
    /* ---- Light/Dark palette (page-local so it works even if site CSS lacks vars) ---- */
    :root{
      --bg: #f8fafc;
      --text: #0b1220;
      --muted-text: #475569;
      --panel-bg: #ffffff;
      --card: #ffffff;
      --border-color: #e5e7eb;
      --accent: #7aa7ff;
    }
    body.dark{
      --bg: #0b0f17;
      --text: #e6edf3;
      --muted-text: #8ea0b6;
      --panel-bg: #0f1623;
      --card: #121826;
      --border-color: #263244;
      --accent: #9bbcff;
    }
    html, body { background: var(--bg); color: var(--text); }

    /* ---- Consistent container + page title so size matches other pages ---- */
    .container{max-width:1200px;margin:0 auto;padding:0 16px}
    .page-title{
      font-weight:800; line-height:1.2; letter-spacing:-0.02em;
      font-size: clamp(36px, 5vw, 52px);
      margin: 12px 0 6px;
    }

    /* ---- Top bar (keeps this page visually consistent) ---- */
    .topbar{position:sticky;top:0;z-index:50;background:var(--bg);border-bottom:1px solid var(--border-color)}
    .topbar .inner{max-width:1200px;margin:0 auto;padding:10px 16px;display:flex;align-items:center;gap:20px}
    .topbar .brand{display:flex;align-items:center;gap:10px;font-weight:700}
    .topbar .logo-dot{display:inline-grid;place-items:center;width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,#60f,#0bd);color:#fff;font-size:13px}
    .topbar nav{display:flex;gap:22px;margin-left:8px}
    .topbar nav a.active{color:var(--accent);text-decoration:underline 2px}
    .topbar .right{margin-left:auto;display:flex;align-items:center;gap:10px}

    .proj-hero { margin: 24px 0 12px; }
    .meta-line { color: var(--muted-text); margin-bottom: 14px; }

    /* chips + badges */
    .chip-row { display: flex; gap: 8px; flex-wrap: wrap; margin: 10px 0 20px; }
    .chip { padding: 6px 10px; border: 1px solid var(--border-color); border-radius: 999px;
            background: var(--panel-bg); color: var(--text); font-size: 13px; }
    .badge { font-weight: 700; border-radius: 999px; padding: 3px 8px; font-size: 12px; border: 1px solid; display: inline-block; }
    .sev-high { color:#ef4444; background:rgba(239,68,68,.12); border-color:#7f1d1d; }
    .sev-med  { color:#b45309; background:rgba(245,158,11,.14); border-color:#7c4405; }
    .sev-low  { color:#0f766e; background:rgba(16,185,129,.14); border-color:#0b624a; }

    .callout {
      border:1px solid var(--border-color);
      background:var(--panel-bg);
      border-radius:12px; padding:14px 16px;
    }

    .two-col { display:grid; gap:18px; grid-template-columns: 1fr; }
    @media (min-width: 900px){ .two-col { grid-template-columns: 1.15fr .85fr; } }

    .evidence-grid { display:grid; gap:14px; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); margin: 16px 0 8px; }
    .evidence-grid figure {
      margin:0; border:1px solid var(--border-color); border-radius:12px; overflow:hidden; background:var(--card);
    }
    .evidence-grid img.lab-img { display:block; width:100%; height:220px; object-fit:cover; cursor:zoom-in; }
    .evidence-grid figcaption { font-size:13px; color:var(--muted-text); padding:8px 10px; border-top:1px solid var(--border-color); }

    .steps h3 { margin-top: 26px; }
    .code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; background: rgba(148,163,184,.18); padding:2px 6px; border-radius:6px; }
    .actions { display:flex; gap:10px; flex-wrap:wrap; margin: 14px 0 4px; }

    /* Lightbox overlay (your script.js expects these IDs) */
    #lightbox{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);z-index:1000;align-items:center;justify-content:center}
    #lightbox img{max-width:92vw;max-height:92vh;border-radius:12px;box-shadow:0 10px 40px rgba(0,0,0,.5)}
  </style>
</head>
<body>

  <!-- Consistent top bar -->
<header class="topbar">
  <div class="inner">
    <a class="brand" href="index.html"><span class="logo-dot">SR</span> Shayaan Rashedin</a>
    <nav class="site-nav">
      <a href="projects.html">Projects</a>
      <a href="homelab.html">Home Lab</a>
      <a href="resume.html">Resume</a>
      <a href="contact.html">Contact</a>
    </nav>
    <div class="right"><button id="theme-toggle" class="btn pill">Toggle Theme</button></div>
  </div>
</header>


  <main class="container">
    <section class="proj-hero">
      <h1 class="page-title">Metasploitable2: Recon → Exploitation</h1>
      <p class="meta-line">End-to-end workflow in an isolated lab: service discovery, prioritization, exploitation, and post-ex validation.</p>

      <div class="chip-row">
        <span class="chip">Tools: Nmap, Metasploit, Hydra</span>
        <span class="chip">TTPs: Service enum, known-vuln exploitation</span>
        <span class="chip">Outcome: Root shells + proof artifacts</span>
      </div>
    </section>

    <section class="two-col">
      <div>
        <div class="callout">
          <h3>Objective</h3>
          <p>Identify exploitable services on Metasploitable2 and obtain command execution. Prioritized <span class="code">vsftpd 2.3.4</span> backdoor, <span class="code">UnrealIRCd 3.2.8.1</span> backdoor, and <span class="code">distcc</span> RCE.</p>

          <h3>Outcome</h3>
          <ul>
            <li>Verified reachability and enumerated services with <span class="code">nmap -sV</span>.</li>
            <li>Gained <strong>root</strong> shell via <span class="code">vsftpd_234_backdoor</span> (<span class="badge sev-high">High</span>), wrote proof file.</li>
            <li>Gained shell via <span class="code">unreal_ircd_3281_backdoor</span> (<span class="badge sev-high">High</span>), wrote proof file.</li>
            <li>Exploited <span class="code">distcc_exec</span> to command shell and proof file.</li>
          </ul>

          <div class="actions">
            <a class="btn primary" href="openvas-report.html" target="_blank" rel="noopener">View OpenVAS Report</a>
            <a class="btn neutral" href="homelab.html">Back to Home Lab</a>
          </div>
        </div>

        <div class="steps">
          <h3>Recon (target &amp; connectivity)</h3>
          <p>Confirmed target IP and reachability.</p>
          <div class="evidence-grid">
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/ifconfig_exploit.png" alt="Target ifconfig" />
              <figcaption>Target network configuration (<span class="code">ifconfig</span>)</figcaption>
            </figure>
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/ping-2.png" alt="Ping reachability" />
              <figcaption>Reachability confirmed (ICMP)</figcaption>
            </figure>
          </div>

          <h3>Enumerate services</h3>
          <p>Focused scan on historically vulnerable daemons.</p>
          <div class="evidence-grid">
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/nmap-sv-targeted.png" alt="Nmap service versions" />
              <figcaption><span class="code">nmap -sV -p 21,23,512-514,3632,6667 &lt;target&gt;</span></figcaption>
            </figure>
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/msfconsole.png" alt="Metasploit console start" />
              <figcaption>Metasploit ready for exploitation</figcaption>
            </figure>
          </div>

          <h3>Exploit 1 — vsftpd 2.3.4 Backdoor (port 21)</h3>
          <p>Known malicious backdoor triggers on crafted username. Used Metasploit module to gain shell as root.</p>
          <div class="evidence-grid">
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/vsftpd-search.png" alt="Search vsftpd module" />
              <figcaption>Identify module: <span class="code">search vsftpd 2.3.4</span></figcaption>
            </figure>
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/vsftpd-exploit.png" alt="vsftpd exploit results" />
              <figcaption>Root shell obtained; proof at <span class="code">/tmp/proof_vsftpd.txt</span></figcaption>
            </figure>
          </div>

          <h3>Exploit 2 — UnrealIRCd 3.2.8.1 Backdoor (port 6667)</h3>
          <p>Leverages malicious tarball backdoor for remote command execution.</p>
          <div class="evidence-grid">
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/unreal-search.png" alt="Search unreal_ircd module" />
              <figcaption>Identify module: <span class="code">search unreal_ircd</span></figcaption>
            </figure>
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/unreal-exploit.png" alt="unrealircd exploit results" />
              <figcaption>Bind shell established; proof at <span class="code">/tmp/proof_unreal.txt</span></figcaption>
            </figure>
          </div>

          <h3>Exploit 3 — distcc (port 3632)</h3>
          <p>Executed <span class="code">exploit/unix/misc/distcc_exec</span> to obtain a shell and wrote a dated proof file.</p>
          <div class="evidence-grid">
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/distcc-search.png" alt="distcc module listing" />
              <figcaption>Module located: <span class="code">exploit/unix/misc/distcc_exec</span></figcaption>
            </figure>
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/distcc-exploit.png" alt="distcc exploitation and proof file" />
              <figcaption>Shell obtained; proof at <span class="code">/tmp/proof_distcc.txt</span></figcaption>
            </figure>
          </div>

          <h3>r-services (512–514) — present but not trusted</h3>
          <p>
            The <span class="code">rlogin/rsh/rexec</span> services were listening, but the host wasn’t misconfigured to trust my attacker box.
            Attempts returned a refusal (no NULL byte handshake). I documented r-services as present but not exploitable here and
            moved on to higher-impact, reliably exploitable findings.
          </p>
          <div class="evidence-grid">
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/rservices-attempts.png" alt="rlogin and rsh attempts" />
              <figcaption>r-services present; direct root login refused — no misplaced trust.</figcaption>
            </figure>
          </div>

          <h3>Telnet default credentials (evidence)</h3>
          <p>Validated weak credential exposure on Telnet. Demonstrates poor access control on a legacy service.</p>
          <div class="evidence-grid">
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/telnet-login.png" alt="Telnet login session" />
              <figcaption>Interactive Telnet session as <span class="code">msfadmin</span>.</figcaption>
            </figure>
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/hydra-telnet.png" alt="Hydra against telnet showing msfadmin:msfadmin" />
              <figcaption>Hydra confirms <span class="code">msfadmin:msfadmin</span> credentials.</figcaption>
            </figure>
          </div>

          <h3>Post-exploitation validation</h3>
          <p>Captured proof and system context to verify impact and environment.</p>
          <div class="evidence-grid">
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/postex-proof.png" alt="Proof file and banner" />
              <figcaption>Banner + dated proof at <span class="code">/tmp/proof_postex.txt</span>.</figcaption>
            </figure>
            <figure>
              <img class="lab-img" src="assets/homelab_projects/metasploitable2-exploit/images/postex-systeminfo.png" alt="whoami, id, ip addr, release" />
              <figcaption>Identity, kernel, IP config, and OS release.</figcaption>
            </figure>
          </div>
        </div>
      </div>

      <!-- Right column: quick facts -->
      <aside>
        <div class="callout">
          <h3>Lab Topology</h3>
          <ul>
            <li>Attacker: Kali Linux</li>
            <li>Target: Metasploitable2 (legacy services)</li>
            <li>Isolated virtual network (NAT/Host-only)</li>
          </ul>
          <h3>Key Skills</h3>
          <div class="chip-row">
            <span class="chip">Enumeration</span>
            <span class="chip">Exploitation</span>
            <span class="chip">Linux</span>
            <span class="chip">Metasploit</span>
            <span class="chip">Nmap</span>
            <span class="chip">Password Cracking</span>
            <span class="chip">Telnet</span>
          </div>
          <h3>Severity</h3>
          <p>
            <span class="badge sev-high">High</span>
            <span class="badge sev-med">Medium</span>
            <span class="badge sev-low">Low</span>
          </p>
        </div>

        <div class="callout" style="margin-top:14px;">
          <h3>Artifacts</h3>
          <ul class="chips">
            <li><a href="openvas-report.html" target="_blank" rel="noopener">OpenVAS XML (themed)</a></li>
          </ul>
          <p class="meta-line">All activity performed in a closed lab on intentionally vulnerable systems.</p>
        </div>
      </aside>
    </section>

    <section style="margin: 28px 0 8px;">
      <a class="btn neutral" href="homelab.html">← Back to Home Lab</a>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Shayaan Rashedin. All rights reserved.</p>
  </footer>

  <!-- Lightbox (used by script.js) -->
  <div id="lightbox" onclick="closeLightbox()">
    <img id="lightbox-img" alt="expanded image"/>
  </div>
</body>
</html>
